<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Trying out infer</title>

  <meta property="description" itemprop="description" content="This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-09-12"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-09-12"/>
  <meta name="article:author" content="theCed7"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Trying out infer"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Trying out infer"/>
  <meta property="twitter:description" content="This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Trying out infer"]},{"type":"character","attributes":{},"value":["This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["theCed7"]},{"type":"character","attributes":{},"value":["https://github.com/theced7"]}]}]},{"type":"character","attributes":{},"value":["09-12-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["owid-covid-data.csv","trying-out-infer_files/anchor-4.2.2/anchor.min.js","trying-out-infer_files/bowser-1.9.3/bowser.min.js","trying-out-infer_files/distill-2.2.21/template.v2.js","trying-out-infer_files/figure-html5/unnamed-chunk-10-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-11-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-12-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-13-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-14-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-14-2.png","trying-out-infer_files/figure-html5/unnamed-chunk-14-3.png","trying-out-infer_files/figure-html5/unnamed-chunk-15-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-6-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-7-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-8-1.png","trying-out-infer_files/figure-html5/unnamed-chunk-9-1.png","trying-out-infer_files/header-attrs-2.10/header-attrs.js","trying-out-infer_files/header-attrs-2.11/header-attrs.js","trying-out-infer_files/jquery-1.11.3/jquery.min.js","trying-out-infer_files/jquery-3.6.0/jquery-3.6.0.js","trying-out-infer_files/jquery-3.6.0/jquery-3.6.0.min.js","trying-out-infer_files/jquery-3.6.0/jquery-3.6.0.min.map","trying-out-infer_files/popper-2.6.0/popper.min.js","trying-out-infer_files/tippy-6.2.7/tippy-bundle.umd.min.js","trying-out-infer_files/tippy-6.2.7/tippy-light-border.css","trying-out-infer_files/tippy-6.2.7/tippy.css","trying-out-infer_files/tippy-6.2.7/tippy.umd.min.js","trying-out-infer_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="trying-out-infer_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="trying-out-infer_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="trying-out-infer_files/popper-2.6.0/popper.min.js"></script>
  <link href="trying-out-infer_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="trying-out-infer_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="trying-out-infer_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="trying-out-infer_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="trying-out-infer_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="trying-out-infer_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="trying-out-infer_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Trying out infer","description":"This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer.","authors":[{"author":"theCed7","authorURL":"https://github.com/theced7","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-09-12T00:00:00.000+02:00","citationText":"theCed7, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Trying out infer</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>This is ought to be a short blog post, firstly to get to grips with Distill, secondly to try out infer.</p></p>
</div>

<div class="d-byline">
  theCed7 <a href="https://github.com/theced7" class="uri">https://github.com/theced7</a> 
  
<br/>09-12-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#starting-off-with-infer">Starting off with <em>infer</em></a>
<ul>
<li><a href="#specify-what-do-we-want-to-know"><code>specify</code>: What do we want to know?</a></li>
<li><a href="#hypothesize-declaring-the-null-hypothesis"><code>hypothesize</code>: declaring the null hypothesis</a></li>
<li><a href="#generate-generating-the-null-distribution"><code>generate</code>: generating the null distribution</a></li>
<li><a href="#calculate-calculating-summary-statistics"><code>calculate</code>: calculating summary statistics</a>
<ul>
<li><a href="#short-interlude-visualization">Short interlude: Visualization</a></li>
<li><a href="#back-to-infer-t-test">Back to infer: t-Test</a></li>
</ul></li>
</ul></li>
<li><a href="#another-one">Another one…</a>
<ul>
<li><a href="#charts.">Charts.</a></li>
<li><a href="#infer">Infer</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="getting-started">Getting started</h1>
<p>First things first: Let’s load infer and the rest of the <em>tidyverse</em>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/tidymodels/infer'>infer</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><em>Infer</em> is a <em>tidyverse</em> package which aims to aid statistical testing. As such, we also need some data to conduct statistical testing on. As it is 2021, we might as well use something coronavirus-related. This download the vast <em>Our World in Data</em> source file and reads it into R. I will also focus on the UK, since it’s one of the countries with the most cohesive data available.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#download.file("https://github.com/owid/covid-19-data/raw/master/public/data/owid-covid-data.csv", "owid-covid-data.csv")</span>

<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"owid-covid-data.csv"</span>, 
                 col_types <span class='op'>=</span> <span class='fu'>cols</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'>col_date</span><span class='op'>(</span>format <span class='op'>=</span> <span class='st'>"%Y-%m-%d"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span>, <span class='st'>"DEU"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>date</span> <span class='op'>&gt;</span> <span class='st'>"2021-01-01"</span><span class='op'>)</span>

<span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 756
Columns: 62
$ iso_code                              &lt;chr&gt; &quot;DEU&quot;, &quot;DEU&quot;, &quot;DEU&quot;, &quot;…
$ continent                             &lt;chr&gt; &quot;Europe&quot;, &quot;Europe&quot;, &quot;E…
$ location                              &lt;chr&gt; &quot;Germany&quot;, &quot;Germany&quot;, …
$ date                                  &lt;date&gt; 2021-01-02, 2021-01-0…
$ total_cases                           &lt;dbl&gt; 1773540, 1783896, 1796…
$ new_cases                             &lt;dbl&gt; 10903, 10356, 12320, 1…
$ new_cases_smoothed                    &lt;dbl&gt; 18185.71, 17893.86, 17…
$ total_deaths                          &lt;dbl&gt; 34480, 34791, 35748, 3…
$ new_deaths                            &lt;dbl&gt; 335, 311, 957, 1009, 1…
$ new_deaths_smoothed                   &lt;dbl&gt; 647.714, 642.000, 657.…
$ total_cases_per_million               &lt;dbl&gt; 21138.62, 21262.05, 21…
$ new_cases_per_million                 &lt;dbl&gt; 129.952, 123.432, 146.…
$ new_cases_smoothed_per_million        &lt;dbl&gt; 216.753, 213.275, 210.…
$ total_deaths_per_million              &lt;dbl&gt; 410.963, 414.670, 426.…
$ new_deaths_per_million                &lt;dbl&gt; 3.993, 3.707, 11.406, …
$ new_deaths_smoothed_per_million       &lt;dbl&gt; 7.720, 7.652, 7.838, 7…
$ reproduction_rate                     &lt;dbl&gt; 0.94, 0.96, 0.98, 1.00…
$ icu_patients                          &lt;dbl&gt; 5703, 5745, 5723, 5650…
$ icu_patients_per_million              &lt;dbl&gt; 67.973, 68.474, 68.212…
$ hosp_patients                         &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ hosp_patients_per_million             &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ weekly_icu_admissions                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ weekly_icu_admissions_per_million     &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ weekly_hosp_admissions                &lt;dbl&gt; NA, 7777.015, NA, NA, …
$ weekly_hosp_admissions_per_million    &lt;dbl&gt; NA, 92.693, NA, NA, NA…
$ new_tests                             &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ total_tests                           &lt;dbl&gt; NA, 36016829, NA, NA, …
$ total_tests_per_thousand              &lt;dbl&gt; NA, 429.280, NA, NA, N…
$ new_tests_per_thousand                &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ new_tests_smoothed                    &lt;dbl&gt; 125811, 120818, 128689…
$ new_tests_smoothed_per_thousand       &lt;dbl&gt; 1.500, 1.440, 1.534, 1…
$ positive_rate                         &lt;dbl&gt; NA, 0.154, NA, NA, NA,…
$ tests_per_case                        &lt;dbl&gt; NA, 6.5, NA, NA, NA, N…
$ tests_units                           &lt;chr&gt; &quot;tests performed&quot;, &quot;te…
$ total_vaccinations                    &lt;dbl&gt; 280781, 303333, 349385…
$ people_vaccinated                     &lt;dbl&gt; 279853, 302401, 348402…
$ people_fully_vaccinated               &lt;dbl&gt; 928, 932, 983, 1070, 1…
$ total_boosters                        &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ new_vaccinations                      &lt;dbl&gt; 48088, 22552, 46052, 5…
$ new_vaccinations_smoothed             &lt;dbl&gt; 42738, 39854, 43848, 4…
$ total_vaccinations_per_hundred        &lt;dbl&gt; 0.33, 0.36, 0.42, 0.48…
$ people_vaccinated_per_hundred         &lt;dbl&gt; 0.33, 0.36, 0.42, 0.48…
$ people_fully_vaccinated_per_hundred   &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00…
$ total_boosters_per_hundred            &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ new_vaccinations_smoothed_per_million &lt;dbl&gt; 509, 475, 523, 526, 52…
$ stringency_index                      &lt;dbl&gt; 82.41, 82.41, 82.41, 8…
$ population                            &lt;dbl&gt; 83900471, 83900471, 83…
$ population_density                    &lt;dbl&gt; 237.016, 237.016, 237.…
$ median_age                            &lt;dbl&gt; 46.6, 46.6, 46.6, 46.6…
$ aged_65_older                         &lt;dbl&gt; 21.453, 21.453, 21.453…
$ aged_70_older                         &lt;dbl&gt; 15.957, 15.957, 15.957…
$ gdp_per_capita                        &lt;dbl&gt; 45229.25, 45229.25, 45…
$ extreme_poverty                       &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ cardiovasc_death_rate                 &lt;dbl&gt; 156.139, 156.139, 156.…
$ diabetes_prevalence                   &lt;dbl&gt; 8.31, 8.31, 8.31, 8.31…
$ female_smokers                        &lt;dbl&gt; 28.2, 28.2, 28.2, 28.2…
$ male_smokers                          &lt;dbl&gt; 33.1, 33.1, 33.1, 33.1…
$ handwashing_facilities                &lt;dbl&gt; NA, NA, NA, NA, NA, NA…
$ hospital_beds_per_thousand            &lt;dbl&gt; 8, 8, 8, 8, 8, 8, 8, 8…
$ life_expectancy                       &lt;dbl&gt; 81.33, 81.33, 81.33, 8…
$ human_development_index               &lt;dbl&gt; 0.947, 0.947, 0.947, 0…
$ excess_mortality                      &lt;dbl&gt; NA, 38.85, NA, NA, NA,…</code></pre>
</div>
<h1 id="starting-off-with-infer">Starting off with <em>infer</em></h1>
<p>The idea of <em>infer</em> is to simplfy statistical testing into four easy steps:</p>
<ol type="1">
<li><code>specify()</code></li>
<li><code>hypothesize()</code></li>
<li><code>generate()</code></li>
<li><code>calculate()</code></li>
</ol>
<p>We now go through each of these steps one by one.</p>
<h2 id="specify-what-do-we-want-to-know"><code>specify</code>: What do we want to know?</h2>
<p>First of all, we have to clarify what issue we want to test. What variable of our data frame are we interested in? In this blog post we will ask ourselves, whether there was a significant difference between the reported incidence of SARS-Cov-2 cases between Great Britain and the USA. <em>Has one country had on average less new cases (per million) than the other?</em>`</p>
<p>So we <code>filter</code> the data to compare Great Britain and the USA. Then we <code>specify</code> what variables we are interested in. We also declare, what we believe is cause and effect, e. g. the different countries should explain (<code>explanatory</code>), why there is a difference in new cases (<code>response</code>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span>explanatory <span class='op'>=</span> <span class='va'>iso_code</span>, response <span class='op'>=</span> <span class='va'>new_cases_per_million</span> <span class='op'>)</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
# A tibble: 504 × 2
   new_cases_per_million iso_code
                   &lt;dbl&gt; &lt;fct&gt;   
 1                  848. GBR     
 2                  809. GBR     
 3                  864. GBR     
 4                  896. GBR     
 5                  917. GBR     
 6                  774. GBR     
 7                 1000. GBR     
 8                  881. GBR     
 9                  807. GBR     
10                  678. GBR     
# … with 494 more rows</code></pre>
</div>
<h2 id="hypothesize-declaring-the-null-hypothesis"><code>hypothesize</code>: declaring the null hypothesis</h2>
<p>Secondly, we declare the <em>null hypothesis</em>. Statistically speaking, the null hypothesis assumes there <em>truly</em> is no difference (or no correlation). Applied to our example our null hypothesis would be: <em>There is no significant difference in new SARS-Cov2 cases per million people between the US and the UK.</em></p>
<p>On a side note: We also introduce a new, shorter way of using <code>specify</code>. Keep an eye on which order you place the arguments (i. e. column names) in, because that determines which is used as the dependent or independent variable.</p>
<p>Do not pay a lot of attention on the output our code is generating at this moment. Hopefully, this all comes together shortly. As long as there aren’t any errors and you roughly understand the statistical lingo, we should be fine.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span> <span class='op'>~</span> <span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/hypothesize.html'>hypothesize</a></span><span class='op'>(</span>null <span class='op'>=</span> <span class='st'>"independence"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
Null Hypothesis: independence
# A tibble: 504 × 2
   new_cases_per_million iso_code
                   &lt;dbl&gt; &lt;fct&gt;   
 1                  848. GBR     
 2                  809. GBR     
 3                  864. GBR     
 4                  896. GBR     
 5                  917. GBR     
 6                  774. GBR     
 7                 1000. GBR     
 8                  881. GBR     
 9                  807. GBR     
10                  678. GBR     
# … with 494 more rows</code></pre>
</div>
<h2 id="generate-generating-the-null-distribution"><code>generate</code>: generating the null distribution</h2>
<p>Not quite sure what happens here.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>~</span> <span class='va'>new_cases_per_million</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/hypothesize.html'>hypothesize</a></span><span class='op'>(</span>null <span class='op'>=</span> <span class='st'>"independence"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/generate.html'>generate</a></span><span class='op'>(</span>reps <span class='op'>=</span> <span class='fl'>1000</span>, type <span class='op'>=</span> <span class='st'>"permute"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Response: iso_code (factor)
Explanatory: new_cases_per_million (numeric)
Null Hypothesis: independence
# A tibble: 504,000 × 3
# Groups:   replicate [1,000]
   iso_code new_cases_per_million replicate
   &lt;fct&gt;                    &lt;dbl&gt;     &lt;int&gt;
 1 USA                       848.         1
 2 GBR                       809.         1
 3 USA                       864.         1
 4 USA                       896.         1
 5 GBR                       917.         1
 6 GBR                       774.         1
 7 GBR                      1000.         1
 8 GBR                       881.         1
 9 USA                       807.         1
10 USA                       678.         1
# … with 503,990 more rows</code></pre>
</div>
<h2 id="calculate-calculating-summary-statistics"><code>calculate</code>: calculating summary statistics</h2>
<p>Now that we have some understanding of how to use the infer functions, we try to get back to our original question.</p>
<h3 id="short-interlude-visualization">Short interlude: Visualization</h3>
<p>Before we move on with facts, figures and infer, let’s try to get a rough picture of our question with some basic data visualization.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>iso_code</span>, y <span class='op'>=</span> <span class='va'>new_cases_per_million</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_jitter</span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.25</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_boxplot</span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<p>Here we already see that both medians lie quite close together. So, aren’t these countries so different after all?</p>
<h3 id="back-to-infer-t-test">Back to infer: t-Test</h3>
<p>So, let’s <code>calculate</code> how big the difference between both medians actually is:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>observed_diff_in_medians</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span> <span class='op'>~</span> <span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/calculate.html'>calculate</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"diff in medians"</span>, order <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"GBR"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>observed_diff_in_medians</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
# A tibble: 1 × 1
   stat
  &lt;dbl&gt;
1  3.58</code></pre>
</div>
<p>So, <code>stat = diff in medians</code> does what it says: It calculates the difference in medians. The <code>order</code> specifies the order of the subtraction (i. e. changes the sign.)</p>
<p>Just for illustration purposes, we can also try to calculate the difference in medians without infer:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>
    median <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span><span class='op'>)</span>,
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>
    iso_code <span class='op'>=</span> <span class='va'>iso_code</span>,
    median <span class='op'>=</span> <span class='va'>median</span>,
    diff <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/diff.html'>diff</a></span><span class='op'>(</span><span class='va'>median</span><span class='op'>)</span>,
  <span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 2 × 3
  iso_code median  diff
  &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;
1 GBR        173.  3.58
2 USA        177.  3.58</code></pre>
</div>
<p>But back to infer: We know now the difference between medians of <code>new_cases_per_million</code> in both countries equals 3.576. Is this enough do discard our null hypothesis?</p>
<p>Let’s use infer to <code>generate</code> some data under the assumption, that in fact, <em>the null hypothesis is <strong>true</strong></em> and there genuinely is <em>no significant difference</em> in new cases between both countries. Then we <code>calculate</code> the <code>diff in medians</code> for each replicate of the generated data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>null_dist_sample</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span> <span class='op'>~</span> <span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/hypothesize.html'>hypothesise</a></span><span class='op'>(</span>null <span class='op'>=</span> <span class='st'>"independence"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/generate.html'>generate</a></span><span class='op'>(</span>rep <span class='op'>=</span> <span class='fl'>1000</span>, type <span class='op'>=</span> <span class='st'>"permute"</span><span class='op'>)</span>

<span class='va'>null_dist_sample</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
Null Hypothesis: independence
# A tibble: 504,000 × 3
# Groups:   replicate [1,000]
   new_cases_per_million iso_code replicate
                   &lt;dbl&gt; &lt;fct&gt;        &lt;int&gt;
 1                  60.3 GBR              1
 2                 485.  GBR              1
 3                 129.  GBR              1
 4                 477.  GBR              1
 5                 529.  GBR              1
 6                 678.  GBR              1
 7                 550.  GBR              1
 8                 522.  GBR              1
 9                  79.3 GBR              1
10                 422.  GBR              1
# … with 503,990 more rows</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>null_dist_sample</span> <span class='op'>&lt;-</span> <span class='va'>null_dist_sample</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/calculate.html'>calculate</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"diff in medians"</span>, order <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"GBR"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>null_dist_sample</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
Null Hypothesis: independence
# A tibble: 1,000 × 2
   replicate      stat
       &lt;int&gt;     &lt;dbl&gt;
 1         1 -16.0    
 2         2  -5.78   
 3         3 -12.6    
 4         4   3.32   
 5         5  -7.91   
 6         6  15.6    
 7         7 -12.5    
 8         8  -3.04   
 9         9  17.0    
10        10  -0.00800
# … with 990 more rows</code></pre>
</div>
<p>Now we can visualize our generated data. Think of it this way: Through some mathematical tricks, infer tried to simulate what our data would look like in a population where the null hypothesis were true.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>null_dist_sample</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/visualize.html'>visualise</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>We see a histogram which represents the data of the 1000 reps we generated above. We see that the majority of reps calculated a <code>diff in medians</code> somewhere around zero. This makes sense, since this data is ought to be generated in a population where there is no <em>true</em> difference between <code>new cases</code> (<em>null hypothesis</em>) and all difference there is should be due to random chance.</p>
<p>Now, let’s see where in that diagram our <em>acutal, observed</em> difference in medians (3.576) would fall:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>null_dist_sample</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/visualize.html'>visualise</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://infer.tidymodels.org/reference/shade_p_value.html'>shade_p_value</a></span><span class='op'>(</span><span class='va'>observed_diff_in_medians</span>,
                direction <span class='op'>=</span> <span class='st'>"two-sided"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
# A tibble: 1 × 1
   stat
  &lt;dbl&gt;
1  1.22</code></pre>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-12-1.png" width="624" /></p>
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1   0.854</code></pre>
<pre><code># A tibble: 1 × 7
  statistic  t_df p_value alternative estimate lower_ci upper_ci
      &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1      1.22  498.   0.222 two.sided       25.0    -15.2     65.3</code></pre>
</div>
<h1 id="another-one">Another one…</h1>
<p>To further strengthen our infer and statistical knowledge, let’s look at another country. Maybe Germany had significantly lower cases on average than the USA?</p>
<h2 id="charts.">Charts.</h2>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"DEU"</span>, <span class='st'>"USA"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>iso_code</span>, y <span class='op'>=</span> <span class='va'>new_cases_per_million</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>stat_summary</span><span class='op'>(</span>fun<span class='op'>=</span><span class='va'>mean</span>, geom<span class='op'>=</span><span class='st'>"point"</span>, size<span class='op'>=</span><span class='fl'>5</span>, color<span class='op'>=</span><span class='st'>"red"</span>, fill<span class='op'>=</span><span class='st'>"red"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_jitter</span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.25</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_boxplot</span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-13-1.png" width="624" /></p>
</div>
<p>On the first glance, it’s still a close race, however, there seems to be more of a difference in medians.</p>
<p>We further added a red dot to each box which represents the mean value of <code>new_cases_per_million</code> (notice the difference between mean and median). The means seem to be apart even further.</p>
<h2 id="infer">Infer</h2>
<p>Let’s take more in-depth look with infer. Again, we start off by calculating the difference in means which we <strong>observed</strong> in our data.</p>
<p>Then we let infer <strong>generate</strong> data under the assumption that the reported new cases per million are <em>independent</em> of the country they occurred in (null hypothesis). When using <code>type = permute</code>, infer does this by reassigning the values <code>new_cases_per_million</code> <em>by chance</em> to either one of the countries. For each <code>rep</code>, our entire data get’s shuffled once. Thus, a possible link between both variables get’s broken.</p>
<p>Subsequently, we also calculate the difference in means in the generated data. Because we assumed the null hypothesis to be true, this calculation should result in a normal distribution around 0.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Calculate difference in means in observed data</span>
<span class='va'>observed_mean_diff_usa_deu</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"DEU"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span> <span class='op'>~</span> <span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/calculate.html'>calculate</a></span><span class='op'>(</span><span class='st'>"diff in means"</span>, order <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"DEU"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>observed_mean_diff_usa_deu</span>
</code></pre>
</div>
<pre><code>Response: new_cases_per_million (numeric)
Explanatory: iso_code (factor)
# A tibble: 1 × 1
   stat
  &lt;dbl&gt;
1  136.</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># generate a null distribution based on null hypothesis (independence)</span>
<span class='co'># then calculate the differences in means in that generated "population"</span>
<span class='va'>null_dist_usa_deu</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>iso_code</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"DEU"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/specify.html'>specify</a></span><span class='op'>(</span><span class='va'>new_cases_per_million</span> <span class='op'>~</span> <span class='va'>iso_code</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/hypothesize.html'>hypothesise</a></span><span class='op'>(</span>null <span class='op'>=</span> <span class='st'>"independence"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/generate.html'>generate</a></span><span class='op'>(</span>reps <span class='op'>=</span> <span class='fl'>1000</span>, type <span class='op'>=</span> <span class='st'>"permute"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/calculate.html'>calculate</a></span><span class='op'>(</span><span class='st'>"diff in means"</span>, order <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"USA"</span>, <span class='st'>"DEU"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>null_dist_usa_deu</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/visualize.html'>visualise</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-14-1.png" width="624" /></p>
</div>
<p>We see that the difference in means we <em>observed</em> equals 136.45.</p>
<p>But we might ask ourselves: How sure can we be of this point estimate? Luckily, infer allows us to calculate <a href="https://en.wikipedia.org/wiki/Confidence_interval">confidence intervals</a>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ci_diff_usa_deu</span> <span class='op'>&lt;-</span> <span class='va'>null_dist_usa_deu</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/get_confidence_interval.html'>get_confidence_interval</a></span><span class='op'>(</span>point_estimate <span class='op'>=</span> <span class='va'>observed_mean_diff_usa_deu</span>,
                          type <span class='op'>=</span> <span class='st'>"se"</span>, <span class='co'># standard error</span>
                          level <span class='op'>=</span> <span class='fl'>.95</span><span class='op'>)</span>

<span class='co'># Visualize the diff in means in generated null distribution </span>
<span class='co'># and the *observed* diff in means</span>
<span class='va'>null_dist_usa_deu</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/visualize.html'>visualise</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://infer.tidymodels.org/reference/shade_p_value.html'>shade_p_value</a></span><span class='op'>(</span><span class='va'>observed_mean_diff_usa_deu</span>,
                direction <span class='op'>=</span> <span class='st'>"two-sided"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://infer.tidymodels.org/reference/shade_confidence_interval.html'>shade_confidence_interval</a></span><span class='op'>(</span><span class='va'>ci_diff_usa_deu</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="trying-out-infer_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<p>Already we can see that our observed difference in means if much, much higher than anything we calculated in our data which assumed the null hypothesis.</p>
<p>Thus, the possibility of actually observing a difference in means this large (or larger) in a population where the null hypothesis is true, is very small.</p>
<p>If we wanted to put an exact number on that possibility we could calculate the <a href="https://en.wikipedia.org/wiki/P-value">p-value</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>p_value_mean_usa_deu</span> <span class='op'>&lt;-</span> <span class='va'>null_dist_usa_deu</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://infer.tidymodels.org/reference/get_p_value.html'>get_p_value</a></span><span class='op'>(</span>obs_stat <span class='op'>=</span> <span class='va'>observed_mean_diff_usa_deu</span>,
              direction <span class='op'>=</span> <span class='st'>"two-sided"</span><span class='op'>)</span>

<span class='va'>p_value_mean_usa_deu</span>
</code></pre>
</div>
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1       0</code></pre>
</div>
<p>So, in a world where the number of new covid cases was independent of the country they appeared in, the possibility of observing a difference in means of cases by country of 136.4525119 (or more) would be 0.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code># A tibble: 1 × 7
  statistic  t_df  p_value alternative estimate lower_ci upper_ci
      &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1      9.01  350. 1.38e-17 two.sided       136.     107.     166.</code></pre>
</div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
